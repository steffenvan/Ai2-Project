<?xml version="1.0" encoding="UTF-8"?>
<algorithms version="110505">
<algorithm name="SectLabel" version="110505">
<variant no="0" confidence="0.006228">
<title confidence="0.988285">
A Stacking-based Approach to Twitter User Geolocation Prediction
</title>
<author confidence="0.986571">
Bo Han,&apos;° Paul Cook,° and Timothy Baldwin&apos;°
</author>
<affiliation confidence="0.4590965">
4 NICTA Victoria Research Laboratory
C7 Department of Computing and Information Systems, The University of Melbourne
</affiliation>
<email confidence="0.917013">
hanb@student.unimelb.edu.au, paulcook@unimelb.edu.au,
tb@ldwin.net
</email>
<sectionHeader confidence="0.997243" genericHeader="abstract">
Abstract
</sectionHeader>
<bodyText confidence="0.999804588235294">
We implement a city-level geolocation
prediction system for Twitter users. The
system infers a user’s location based on
both tweet text and user-declared metadata
using a stacking approach. We demon-
strate that the stacking method substan-
tially outperforms benchmark methods,
achieving 49% accuracy on a benchmark
dataset. We further evaluate our method
on a recent crawl of Twitter data to in-
vestigate the impact of temporal factors
on model generalisation. Our results sug-
gest that user-declared location metadata
is more sensitive to temporal change than
the text of Twitter messages. We also de-
scribe two ways of accessing/demoing our
system.
</bodyText>
<sectionHeader confidence="0.999518" genericHeader="keywords">
1 Introduction
</sectionHeader>
<bodyText confidence="0.999593568627451">
In this paper, we present and evaluate a geoloca-
tion prediction method for Twitter users.&apos; Given
a user’s tweet data as input, the task of user level
geolocation prediction is to infer a primary loca-
tion (i.e., “home location”: Mahmud et al. (2012))
for the user from a discrete set of pre-defined loca-
tions (Cheng et al., 2010). For instance, President
Obama’s location might be predicted to be Wash-
ington D.C., USA, based on his public tweets and
profile metadata.
Geolocation information is essential to location-
based applications, like targeted advertising and
local event detection (Sakaki et al., 2010;
MacEachren et al., 2011). However, the means
to obtain such information are limited. Although
Twitter allows users to specify a plain text de-
scription of their location in their profile, these de-
scriptions tend to be ad hoc and unreliable (Cheng
&apos;We only use public Twitter data for experiments and ex-
emplification in this study.
et al., 2010). Recently, user geolocation predic-
tion based on a user’s tweets has become popular
(Wing and Baldridge, 2011; Roller et al., 2012),
based on the assumption that tweets implicitly
contain locating information, and with appropri-
ate statistical modeling, the true location can be
inferred. For instance, if a user frequently men-
tions NYC, JFK and yankees, it is likely that they
are from New York City, USA.
In this paper, we discuss an implementation of
a global city-level geolocation prediction system
for English Twitter users. The system utilises both
tweet text and public profile metadata for model-
ing and inference. Specifically, we train multino-
mial Bayes classifiers based on location indica-
tive words (LIWs) in tweets (Han et al., 2012),
and user-declared location and time zone meta-
data. These base classifiers are further stacked
(Wolpert, 1992) using logistic regression as the
meta-classifier. The proposed stacking model is
compared with benchmarks on a public geolo-
cation dataset. Experimental results demonstrate
that our stacking model outperforms benchmark
methods by a large margin, achieving 49% accu-
racy on the test data. We further evaluate the stack-
ing model on a more recent crawl of public tweets.
This experiment tests the effectiveness of a geolo-
cation model trained on “old” data when applied to
“new” data. The results reveal that user-declared
locations are more variable over time than tweet
text and time zone data.
</bodyText>
<sectionHeader confidence="0.956157" genericHeader="introduction">
2 Background and Related Work
</sectionHeader>
<bodyText confidence="0.999544625">
Identifying the geolocation of objects has been
widely studied in the research literature over target
objects including webpages (Zong et al., 2005),
search queries (Backstrom et al., 2008), Flickr im-
ages (Crandall et al., 2009) and Wikipedia ed-
itors (Lieberman and Lin, 2009). Recently, a
considerable amount of work has been devoted
to extending geolocation prediction for Twitter
</bodyText>
<page confidence="0.990881">
7
</page>
<bodyText confidence="0.983987204545455">
Proceedings of the 51st Annual Meeting of the Association for Computational Linguistics, pages 7–12,
Sofia, Bulgaria, August 4-9 2013. c�2013 Association for Computational Linguistics
users (Cheng et al., 2010; Eisenstein et al., 2010).
The geolocations are usually represented by un-
ambiguous city names or a partitioning of the
earth’s surface (e.g., grid cells specified by lati-
tude/longitude). User geolocation is generally re-
lated to a “home” location where a user regularly
resides, and user mobility is ignored. Twitter al-
lows users to declare their home locations in plain
text in their profile, however, this data has been
found to be unstructured and ad hoc in preliminary
research (Cheng et al., 2010; Hecht et al., 2011).
While popular for desktop machine geoloca-
tion, methods that map IP addresses to physical
locations (Buyukokkten et al., 1999) cannot be
applied to Twitter-based user geolocation, as IPs
are only known to the service provider and are
non-trivial to retrieve in a mobile Internet environ-
ment. Although social network information has
been proven effective in inferring user locations
(Backstrom et al., 2010; Sadilek et al., 2012; Rout
et al., 2013), we focus exclusively on message
and metadata information in this paper, as they are
more readily accessible.
Text data tends to contain salient geospatial ex-
pressions that are particular to specific regions.
Attempts to leverage this data directly have been
based on analysis of gazetted expressions (Leid-
ner and Lieberman, 2011) or the identification of
geographical entities (Quercini et al., 2010; Qin et
al., 2003). However these methods are limited in
their ability to capture informal geospatial expres-
sions (e.g. Brissie for Brisbane) and more non-
geospatial terms which are associated with partic-
ular locations (e.g. ferry for Seattle or Sydney).
Beyond identifying geographical references us-
ing off-the-shelf tools, more sophisticated meth-
ods have been introduced in the social media
realm. Cheng et al. (2010) built a simple gen-
erative model based on tweet words, and fur-
ther added words which are local to particular re-
gions and applied smoothing to under-represented
locations. Kinsella et al. (2011) applied differ-
ent similarity measures to the task, and investi-
gated the relative difficulty of geolocation predic-
tion at city, state, and country levels. Wing and
Baldridge (2011) introduced a grid-based repre-
sentation for geolocation modeling and inference
based on fixed latitude and longitude values, and
aggregated all tweets in a single cell. Their ap-
proach was then based on lexical similarity us-
ing KL-divergence. One drawback to the uniform-
sized cell representation is that it introduces class
imbalance: urban areas tend to contain far more
tweets than rural areas. Based on this observa-
tion, Roller et al. (2012) introduced an adaptive
grid representation in which cells contain approx-
imately the same number of users, based on a KD-
tree partition. Given that most tweets are from
urban areas, Han et al. (2012) consider a city-
based class division, and explore different feature
selection methods to extract “location indicative
words”, which they show to improve prediction
accuracy. Additionally, time zone information has
been incorporated in a coarse-to-fine hierarchical
model by first determining the time zone, and then
disambiguating locations within it (Mahmud et al.,
2012). Topic models have also been applied to the
task, in capturing regional linguistic differences
(Eisenstein et al., 2010; Yin et al., 2011; Hong et
al., 2012).
When designing a practical geolocation sys-
tem, simple models such as naive Bayes and near-
est prototype methods (e.g., based on KL diver-
gence) have clear advantages in terms of train-
ing and classification throughput, given the size of
the class set (often numbering in the thousands of
classes) and sheer volume of training data (poten-
tially in the terabytes of data). This is particularly
important for online systems and downstream ap-
plications that require timely predictions. As such,
we build off the text-based naive Bayes-based ge-
olocation system of Han et al. (2012), which our
experiments have shown to have a good balance of
tractability and accuracy. By selecting a reduced
set of “location indicative words”, prediction can
be further accelerated.
</bodyText>
<sectionHeader confidence="0.998062" genericHeader="method">
3 Methodology
</sectionHeader>
<bodyText confidence="0.9999635">
In this study, we adopt the same city-based rep-
resentation and multinomial naive Bayes learner
as Han et al. (2012). The city-based representa-
tion consists of 3,709 cities throughout the world,
and is obtained by aggregating smaller cities with
the largest nearby city. Han et al. (2012) found
that using feature selection to identify “location
indicative words” led to improvements in geoloca-
tion performance. We use the same feature selec-
tion technique that they did. Specifically, feature
selection is based on information gain ratio (IGR)
(Quinlan, 1993) over the city-based label set for
each word.
In the original research of Han et al. (2012),
</bodyText>
<page confidence="0.987914">
8
</page>
<bodyText confidence="0.999985162162162">
only the text of Twitter messages was used,
and training was based exclusively on geotagged
tweets, despite these accounting for only around
1% of the total public data on Twitter. In this
research, we include additional non-geotagged
tweets (e.g., posted from a non-GPS enabled de-
vice) for those users who have geotagged tweets
(allowing us to determine a home location for the
user).
In addition to including non-geotagged data in
modeling and inference, we further take advan-
tage of the text-based metadata embedded in a
user’s public profile (and included in the JSON ob-
ject for each tweet). This metadata is potentially
complementary to the tweet message and of bene-
fit for geolocation prediction, especially the user-
declared location and time zone, which we con-
sider here. Note that these are in free text rather
than a structured data format, and that while there
are certainly instances of formal place name de-
scriptions (e.g., Edinburgh, UK), they are often
informal (e.g., mel for Melbourne). As such, we
adopt a statistical approach to model each selected
metadata field, by capturing the text in the form
of character 4-grams, and training a multinomial
naive Bayes classifier for each field.
To combine together the tweet text and meta-
data fields, we use stacking (Wolpert, 1992). The
training of stacking consists of two steps. First,
a multinomial naive Bayes base classifier (L0) is
learned for each data type using 10-fold cross
validation. This is carried out for the tweet
text (TEXT), user-declared location (MB-LOC) and
user-declared time zone (MB-TZ). Next, a meta-
classifier (L1 classifier) is trained over the base
classifiers, using a logistic regression learner (Fan
et al., 2008).
</bodyText>
<sectionHeader confidence="0.996924" genericHeader="method">
4 Evaluation and Discussion
</sectionHeader>
<bodyText confidence="0.9999155">
In this section, we compare our proposed stack-
ing approach with existing benchmarks on a public
dataset, and investigate the impact of time using a
recently collected dataset.
</bodyText>
<subsectionHeader confidence="0.963856">
4.1 Evaluation Measures
</subsectionHeader>
<bodyText confidence="0.999982">
In line with other work on user geolocation pre-
diction, we use three evaluation measures:
</bodyText>
<listItem confidence="0.997434">
• Acc : The percentage of correct city-level
predictions.
• Acc@161 : The percentage of predicted lo-
cations which are within a 161km (100 mile)
</listItem>
<table confidence="0.999644375">
Methods Acc Acc@161 Median
KL .117 .277 793
MB .126 .262 913
KL-NG .260 .487 181
MB-NG .280 .492 170
MB-LOC .405 .525 92
MB-TZ .064 .171 1330
STACKING .490 .665 9
</table>
<tableCaption confidence="0.999866">
Table 1: Results over WORLD
</tableCaption>
<bodyText confidence="0.907723666666667">
radius of the home location (Cheng et al.,
2010), to capture near-misses (e.g., Edin-
burgh UK being predicted as Glasgow, UK).
Median: The median distance from the pre-
dicted city to the home location (Eisenstein et
al., 2010).
</bodyText>
<listItem confidence="0.716077">
•
</listItem>
<subsectionHeader confidence="0.997564">
4.2 Comparison with Benchmarks
</subsectionHeader>
<bodyText confidence="0.999969666666667">
We base our evaluation on the publicly-available
WORLD dataset of Han et al. (2012). The dataset
contains 1.4M users whose tweets are primarily
identified as English based on the output of the
langid.py language identification tool (Lui and
Baldwin, 2012), and who have posted at least 10
geotagged tweets. The city-level home location
for a geotagged user is determined as follows.
First, each of a user’s geotagged tweets is mapped
to its nearest city (based on the same set of 3,709
cities used for the city-based location representa-
tion). Then, the most frequent city for a user is
selected as the home location.
To benchmark our method, we reimplement
two recently-published state-of-the-art methods:
</bodyText>
<listItem confidence="0.978350055555556">
(1) the KL-divergence nearest prototype method
of Roller et al. (2012) based on KD-tree parti-
tioned grid cells, which we denote as KL; and
(2) the multinomial naive Bayes city-level geolo-
cation model of Han et al. (2012), which we de-
note as MB. Because of the different class repre-
sentations, Acc numbers are not comparable be-
tween the benchmarks. To remedy this, we find
the closest city to the centroid of each grid cell in
the KD-tree representation, and map the classifi-
cation onto this city. We present results including
non-geotagged data for users with geotagged mes-
sages for the two methods, as KL-NG and MB-
NG, respectively. We also present results based
on the user-declared location (MB-LOC) and time
zone (MB-TZ), and finally the stacking method
(STACKING) which combines MB-NG, MB-LOC
and MB-TZ. The results are shown in Table 1.
</listItem>
<page confidence="0.978465">
9
</page>
<bodyText confidence="0.999949736842105">
The approximate doubling of Acc for KL-
NG and MB-NG over KL and MB, respectively,
demonstrates the high utility of non-geotagged
data in tweet text-based geolocation prediction.
Of the two original models, we can see that MB
is comparable to KL, in line with the findings of
Han et al. (2012). The MB-LOC results are by far
the highest of all the base classifiers. Contrary to
the suggestion of Cheng et al. (2010) that user-
declared locations are too unreliable to use for user
geolocation, we find evidence indicating that they
are indeed a valuable source of information for this
task. The best overall results are achieved for the
stacking approach (STACKING), assigning almost
half of the test users to the correct city-level lo-
cation, and improving more than four-fold on the
previous-best accuracy (i.e., MB). These results
also suggest that there is strong complementarity
between user metadata and tweet text.
</bodyText>
<subsectionHeader confidence="0.998734">
4.3 Evaluation on Time-Heterogeneous Data
</subsectionHeader>
<bodyText confidence="0.999975892857143">
In addition to the original held-out test data
(WORLDtest) from WORLD, we also developed a
new geotagged evaluation dataset using the Twit-
ter Streaming API.2 This new LIVEtest dataset is
intended to evaluate the impact of time on predic-
tive accuracy. The training and test data in WORLD
are time-homogeneous as they are randomly sam-
pled from data collected in a relatively narrow time
window. In contrast, LIVEtest is much newer, col-
lected more than 1 year later than WORLD. Given
that Twitter users and topics change over time, an
essential question is whether the statistical model
learned from the “old” training data is still effec-
tive over the “new” test data?
The LIVEtest data was collected over 48 hours
from 2013/03/03 to 2013/03/05. By selecting
users with at least 10 geotagged tweets and a de-
clared language of English, 55k users were ob-
tained. For each user, their recent status updates
were aggregated, and non-English users were fil-
tered out based on the language predictions of
langid.py. For some users with geotagged
tweets from many cities, the most frequent city
might not be an appropriate representation of their
home location for evaluation. To improve the eval-
uation data quality, we therefore exclude users
who have less than 50% of their geotagged tweets
originating from a single city. After filtering, 32k
</bodyText>
<footnote confidence="0.9583115">
2https://dev.twitter.com/docs/api/1.1/
get/statuses/sample
</footnote>
<table confidence="0.9995504">
LIVEtest Acc Acc@161 Median
MB-NG .268 (−.012) .510 (−.018) 151 ( −19)
MB-LOC .326 (−.079) .465 (−.060) 306 (+214)
MB-TZ .065 (+.001) .160 (−.011) 1529 (+199)
STACKING .406 (−.084) .614 (−.051) 40 ( +31)
</table>
<tableCaption confidence="0.997392">
Table 2: Results over LIVEtest, and the absolute
</tableCaption>
<bodyText confidence="0.978074380952381">
fluctuation over the results for WORLDtest
users were obtained, forming the final LIVEtest
dataset. In the final LIVEtest, the smallest class
has only one test user, and the largest class has
569 users. The mean users per city is 27.76.
The results over LIVEtest, and the difference
in absolute score over WORLDtest, are shown in
Table 2. The stacked model accuracy numbers
drop 5–8% on LIVEtest, and the median error
distance increases moderately by 31km. Over-
all, the numbers suggest inference on WORLDtest,
which is time-homogenous with the training data
(taken from WORLD), is an easier classification
than LIVEtest, which is time-heterogeneous with
the training data. Training on “old” data and test-
ing on “new” data is certainly possible, however.
Looking over the results of the base classifiers, we
can see that the biggest hit is for MB-LOC clas-
sifier. In contrast, the accuracy for MB-NG and
MB-TZ is relatively stable (other than the sharp in-
crease in the median error distance for MB-TZ).
</bodyText>
<sectionHeader confidence="0.888199" genericHeader="evaluation">
5 Architecture and Access
</sectionHeader>
<bodyText confidence="0.999944210526316">
In this section, we describe the architecture of the
proposed geolocation system, as well as two ways
of accessing the live system.3 The core structure
of the system consists of two parts: (1) the inter-
face; (2) the back-end geolocation service.
We offer two interfaces to access the system: a
Twitter bot and a web interface. The Twitter bot
account is: @MELBLTFSD. A daemon process de-
tects any user mentions of the bot in tweets via
keyword matching through the Twitter search API.
The screen name of the tweet author is extracted
and sent to the back-end geolocation service, and
the predicted user geolocation is sent to the Twitter
user in a direct message, as shown in Figure 1.
Web access is via http://hum.csse.unimelb.
edu.au:9000/geo.html. Users can input a Twit-
ter user screen name through the web interface,
whereby a call is made to the back-end geoloca-
tion service to geolocate that user. The geoloca-
</bodyText>
<footnote confidence="0.9799805">
3The source code is available from https://github.
com/tq010or/acl2013
</footnote>
<page confidence="0.996278">
10
</page>
<figureCaption confidence="0.977472833333333">
Figure 2: Web interface for user geolocation. The numbered green markers represent geotagged tweets.
These coordinates are utilised to validate our predictions, and are not used in the geolocation process.
The red marker is the predicted city-based user geolocation.
Figure 1: Twitter bot interface. When the Twit-
ter bot is mentioned in a tweet, that user is sent a
direct message with the predicted geolocation.
</figureCaption>
<bodyText confidence="0.999764888888889">
tion results are rendered on a map (along with any
geotagged tweets for the user) as in Figure 2.4
The back-end geolocation service crawls recent
tweets for a given user in real time,5 and word
and n-gram features are extracted from both the
text and the user metadata. These features are sent
to the L0 classifiers (TEXT, MB-LOC and MB-TZ),
and the L0 results are further fed into the L1 clas-
sifier for the final prediction.
</bodyText>
<sectionHeader confidence="0.988834" genericHeader="conclusions">
6 Summary and Future Work
</sectionHeader>
<bodyText confidence="0.9998005">
In this paper, we presented a city-level geoloca-
tion prediction system for Twitter users. Over a
public dataset, our stacking method — exploiting
both tweet text and user metadata — substantially
</bodyText>
<footnote confidence="0.994544">
4Currently, only Google Chrome is supported. https:
//www.google.com/intl/en/chrome/
5Up to 200 tweets are crawled, the upper bound of mes-
sages returned per single request based on Twitter API v1.1.
</footnote>
<figureCaption confidence="0.515817333333333">
outperformed benchmark methods. We further
evaluated model generalisation on a newer, time-
heterogeneous dataset. The overall results de-
creased by 5–8% in accuracy, compared with num-
bers on time-homogeneous data, primarily due to
the poor generalisation of the MB-LOC classifier.
</figureCaption>
<bodyText confidence="0.99995325">
In future work, we plan to further investigate
the cause of the MB-LOC classifier accuracy de-
crease on the new dataset. In addition, we’d like
to study differences in prediction accuracy across
cities. For cities with reliable predictions, the sys-
tem can be adapted as a preprocessing module for
downstream applications, e.g., local event detec-
tion based on users with reliable predictions.
</bodyText>
<sectionHeader confidence="0.994985" genericHeader="acknowledgments">
Acknowledgements
</sectionHeader>
<bodyText confidence="0.9997762">
NICTA is funded by the Australian government as
represented by Department of Broadband, Com-
munication and Digital Economy, and the Aus-
tralian Research Council through the ICT centre
of Excellence programme.
</bodyText>
<sectionHeader confidence="0.999316" genericHeader="references">
References
</sectionHeader>
<reference confidence="0.999127375">
Lars Backstrom, Jon Kleinberg, Ravi Kumar, and Jas-
mine Novak. 2008. Spatial variation in search en-
gine queries. In Proc. of WWW, pages 357–366,
Beijing, China.
Lars Backstrom, Eric Sun, and Cameron Marlow.
2010. Find me if you can: improving geographi-
cal prediction with social and spatial proximity. In
Proc. of WWW, pages 61–70, Raleigh, USA.
</reference>
<page confidence="0.99585">
11
</page>
<reference confidence="0.999705706422018">
Orkut Buyukokkten, Junghoo Cho, Hector Garcia-
Molina, Luis Gravano, and Narayana Shivakumar.
1999. Exploiting geographical location informa-
tion of web pages. In ACM SIGMOD Workshop on
The Web and Databases, pages 91–96, Philadelphia,
USA.
Zhiyuan Cheng, James Caverlee, and Kyumin Lee.
2010. You are where you tweet: a content-based
approach to geo-locating twitter users. In Proc. of
CIKM, pages 759–768, Toronto, Canada.
David J. Crandall, Lars Backstrom, Daniel Hutten-
locher, and Jon Kleinberg. 2009. Mapping the
world’s photos. In Proc. of WWW, pages 761–770,
Madrid, Spain.
Jacob Eisenstein, Brendan O’Connor, Noah A. Smith,
and Eric P. Xing. 2010. A latent variable model for
geographic lexical variation. In Proc. of EMNLP,
pages 1277–1287, Cambridge, MA, USA.
Rong-En Fan, Kai-Wei Chang, Cho-Jui Hsieh, Xiang-
Rui Wang, and Chih-Jen Lin. 2008. LIBLINEAR:
A library for large linear classification. Journal of
Machine Learning Research, 9:1871–1874.
Bo Han, Paul Cook, and Timothy Baldwin. 2012. Ge-
olocation prediction in social media data by find-
ing location indicative words. In Proc. of COLING,
pages 1045–1062, Mumbai, India.
Brent Hecht, Lichan Hong, Bongwon Suh, and Ed H.
Chi. 2011. Tweets from justin bieber’s heart:
the dynamics of the location field in user profiles.
In Proc. of SIGCHI, pages 237–246, Vancouver,
Canada.
Liangjie Hong, Amr Ahmed, Siva Gurumurthy,
Alexander J. Smola, and Kostas Tsioutsiouliklis.
2012. Discovering geographical topics in the twit-
ter stream. In Proc. of WWW, pages 769–778, Lyon,
France.
Sheila Kinsella, Vanessa Murdock, and Neil O’Hare.
2011. ”I’m eating a sandwich in glasgow”: mod-
eling locations with tweets. In Proc. of the 3rd In-
ternational Workshop on Search and Mining User-
generated Contents, pages 61–68, Glasgow, UK.
Jochen L. Leidner and Michael D. Lieberman. 2011.
Detecting geographical references in the form of
place names and associated spatial natural language.
SIGSPATIAL Special, 3(2):5–11.
Michael D. Lieberman and Jimmy Lin. 2009. You
are where you edit: Locating wikipedia contributors
through edit histories. In ICWSM.
Marco Lui and Timothy Baldwin. 2012. langid.py: An
off-the-shelf language identification tool. In Proc.
of the ACL, pages 25–30, Jeju Island, Korea.
Alan M. MacEachren, Anuj Jaiswal, Anthony C.
Robinson, Scott Pezanowski, Alexander Savelyev,
Prasenjit Mitra, Xiao Zhang, and Justine Blanford.
2011. Senseplace2: Geotwitter analytics support for
situational awareness. In IEEE Conference on Vi-
sual Analytics Science and Technology, pages 181–
190, Rhode Island, USA.
Jalal Mahmud, Jeffrey Nichols, and Clemens Drews.
2012. Where is this tweet from? inferring home lo-
cations of twitter users. In Proc. of ICWSM, Dublin,
Ireland.
Teng Qin, Rong Xiao, Lei Fang, Xing Xie, and Lei
Zhang. 2003. An efficient location extraction algo-
rithm by leveraging web contextual information. In
Proc. of SIGSPATIAL, pages 55–62, San Jose, USA.
Gianluca Quercini, Hanan Samet, Jagan Sankara-
narayanan, and Michael D. Lieberman. 2010. De-
termining the spatial reader scopes of news sources
using local lexicons. In Proc. of the 18th Interna-
tional Conference on Advances in Geographic In-
formation Systems, pages 43–52, San Jose, USA.
John Ross Quinlan. 1993. C4.5: Programs for Ma-
chine Learning. Morgan Kaufmann, San Mateo,
USA.
Stephen Roller, Michael Speriosu, Sarat Rallapalli,
Benjamin Wing, and Jason Baldridge. 2012. Super-
vised text-based geolocation using language mod-
els on an adaptive grid. In Proc. of EMNLP, pages
1500–1510, Jeju Island, Korea.
Dominic Rout, Kalina Bontcheva, Daniel Preot¸iuc-
Pietro, and Trevor Cohn. 2013. Where’s @wally?:
a classification approach to geolocating users based
on their social ties. In Proc. of the 24th ACM Con-
ference on Hypertext and Social Media, pages 11–
20, Paris, France.
Adam Sadilek, Henry Kautz, and Jeffrey P. Bigham.
2012. Finding your friends and following them to
where you are. In Proc. of WSDM, pages 723–732,
Seattle, USA.
Takeshi Sakaki, Makoto Okazaki, and Yutaka Matsuo.
2010. Earthquake shakes twitter users: real-time
event detection by social sensors. In Proc. of WWW,
pages 851–860, Raleigh, USA.
Benjamin P. Wing and Jason Baldridge. 2011. Sim-
ple supervised document geolocation with geodesic
grids. In Proc. of ACL, pages 955–964, Portland,
USA.
David H. Wolpert. 1992. Stacked generalization. Neu-
ral Networks, 5(2):241–259.
Zhijun Yin, Liangliang Cao, Jiawei Han, Chengxiang
Zhai, and Thomas Huang. 2011. Geographical
topic discovery and comparison. In Proc. of WWW,
pages 247–256, Hyderabad, India.
Wenbo Zong, Dan Wu, Aixin Sun, Ee-Peng Lim,
and Dion Hoe-Lian Goh. 2005. On assigning
place names to geography related web pages. In
ACM/IEEE Joint Conference on Digital Libraries,
pages 354–362.
</reference>
<page confidence="0.998431">
12
</page>
</variant>
</algorithm>
<algorithm name="ParsHed" version="110505">
<variant no="0" confidence="0.598853">
<title confidence="0.998086">A Stacking-based Approach to Twitter User Geolocation Prediction</title>
<author confidence="0.9679">Victoria Research</author>
<affiliation confidence="0.677757">of Computing and Information Systems, The University of</affiliation>
<email confidence="0.807867">tb@ldwin.net</email>
<abstract confidence="0.998819944444444">We implement a city-level geolocation prediction system for Twitter users. The system infers a user’s location based on both tweet text and user-declared metadata using a stacking approach. We demonstrate that the stacking method substantially outperforms benchmark methods, achieving 49% accuracy on a benchmark dataset. We further evaluate our method on a recent crawl of Twitter data to investigate the impact of temporal factors on model generalisation. Our results suggest that user-declared location metadata is more sensitive to temporal change than the text of Twitter messages. We also describe two ways of accessing/demoing our system.</abstract>
</variant>
</algorithm>
<algorithm name="ParsCit" version="110505">
<citationList>
<citation valid="true">
<authors>
<author>Lars Backstrom</author>
<author>Jon Kleinberg</author>
<author>Ravi Kumar</author>
<author>Jasmine Novak</author>
</authors>
<title>Spatial variation in search engine queries.</title>
<date>2008</date>
<booktitle>In Proc. of WWW,</booktitle>
<pages>357--366</pages>
<location>Beijing, China.</location>
<contexts>
<context position="3582" citStr="Backstrom et al., 2008" startWordPosition="552" endWordPosition="555">ng model outperforms benchmark methods by a large margin, achieving 49% accuracy on the test data. We further evaluate the stacking model on a more recent crawl of public tweets. This experiment tests the effectiveness of a geolocation model trained on “old” data when applied to “new” data. The results reveal that user-declared locations are more variable over time than tweet text and time zone data. 2 Background and Related Work Identifying the geolocation of objects has been widely studied in the research literature over target objects including webpages (Zong et al., 2005), search queries (Backstrom et al., 2008), Flickr images (Crandall et al., 2009) and Wikipedia editors (Lieberman and Lin, 2009). Recently, a considerable amount of work has been devoted to extending geolocation prediction for Twitter 7 Proceedings of the 51st Annual Meeting of the Association for Computational Linguistics, pages 7–12, Sofia, Bulgaria, August 4-9 2013. c�2013 Association for Computational Linguistics users (Cheng et al., 2010; Eisenstein et al., 2010). The geolocations are usually represented by unambiguous city names or a partitioning of the earth’s surface (e.g., grid cells specified by latitude/longitude). User ge</context>
</contexts>
<marker>Backstrom, Kleinberg, Kumar, Novak, 2008</marker>
<rawString>Lars Backstrom, Jon Kleinberg, Ravi Kumar, and Jasmine Novak. 2008. Spatial variation in search engine queries. In Proc. of WWW, pages 357–366, Beijing, China.</rawString>
</citation>
<citation valid="true">
<authors>
<author>Lars Backstrom</author>
<author>Eric Sun</author>
<author>Cameron Marlow</author>
</authors>
<title>Find me if you can: improving geographical prediction with social and spatial proximity.</title>
<date>2010</date>
<booktitle>In Proc. of WWW,</booktitle>
<pages>61--70</pages>
<location>Raleigh, USA.</location>
<contexts>
<context position="4915" citStr="Backstrom et al., 2010" startWordPosition="760" endWordPosition="763">d. Twitter allows users to declare their home locations in plain text in their profile, however, this data has been found to be unstructured and ad hoc in preliminary research (Cheng et al., 2010; Hecht et al., 2011). While popular for desktop machine geolocation, methods that map IP addresses to physical locations (Buyukokkten et al., 1999) cannot be applied to Twitter-based user geolocation, as IPs are only known to the service provider and are non-trivial to retrieve in a mobile Internet environment. Although social network information has been proven effective in inferring user locations (Backstrom et al., 2010; Sadilek et al., 2012; Rout et al., 2013), we focus exclusively on message and metadata information in this paper, as they are more readily accessible. Text data tends to contain salient geospatial expressions that are particular to specific regions. Attempts to leverage this data directly have been based on analysis of gazetted expressions (Leidner and Lieberman, 2011) or the identification of geographical entities (Quercini et al., 2010; Qin et al., 2003). However these methods are limited in their ability to capture informal geospatial expressions (e.g. Brissie for Brisbane) and more nonge</context>
</contexts>
<marker>Backstrom, Sun, Marlow, 2010</marker>
<rawString>Lars Backstrom, Eric Sun, and Cameron Marlow. 2010. Find me if you can: improving geographical prediction with social and spatial proximity. In Proc. of WWW, pages 61–70, Raleigh, USA.</rawString>
</citation>
<citation valid="true">
<authors>
<author>Orkut Buyukokkten</author>
<author>Junghoo Cho</author>
<author>Hector GarciaMolina</author>
<author>Luis Gravano</author>
<author>Narayana Shivakumar</author>
</authors>
<title>Exploiting geographical location information of web pages.</title>
<date>1999</date>
<booktitle>In ACM SIGMOD Workshop on The Web and Databases,</booktitle>
<pages>91--96</pages>
<location>Philadelphia, USA.</location>
<contexts>
<context position="4636" citStr="Buyukokkten et al., 1999" startWordPosition="717" endWordPosition="720">0). The geolocations are usually represented by unambiguous city names or a partitioning of the earth’s surface (e.g., grid cells specified by latitude/longitude). User geolocation is generally related to a “home” location where a user regularly resides, and user mobility is ignored. Twitter allows users to declare their home locations in plain text in their profile, however, this data has been found to be unstructured and ad hoc in preliminary research (Cheng et al., 2010; Hecht et al., 2011). While popular for desktop machine geolocation, methods that map IP addresses to physical locations (Buyukokkten et al., 1999) cannot be applied to Twitter-based user geolocation, as IPs are only known to the service provider and are non-trivial to retrieve in a mobile Internet environment. Although social network information has been proven effective in inferring user locations (Backstrom et al., 2010; Sadilek et al., 2012; Rout et al., 2013), we focus exclusively on message and metadata information in this paper, as they are more readily accessible. Text data tends to contain salient geospatial expressions that are particular to specific regions. Attempts to leverage this data directly have been based on analysis o</context>
</contexts>
<marker>Buyukokkten, Cho, GarciaMolina, Gravano, Shivakumar, 1999</marker>
<rawString>Orkut Buyukokkten, Junghoo Cho, Hector GarciaMolina, Luis Gravano, and Narayana Shivakumar. 1999. Exploiting geographical location information of web pages. In ACM SIGMOD Workshop on The Web and Databases, pages 91–96, Philadelphia, USA.</rawString>
</citation>
<citation valid="true">
<authors>
<author>Zhiyuan Cheng</author>
<author>James Caverlee</author>
<author>Kyumin Lee</author>
</authors>
<title>You are where you tweet: a content-based approach to geo-locating twitter users.</title>
<date>2010</date>
<booktitle>In Proc. of CIKM,</booktitle>
<pages>759--768</pages>
<location>Toronto, Canada.</location>
<contexts>
<context position="1291" citStr="Cheng et al., 2010" startWordPosition="191" endWordPosition="194"> of Twitter data to investigate the impact of temporal factors on model generalisation. Our results suggest that user-declared location metadata is more sensitive to temporal change than the text of Twitter messages. We also describe two ways of accessing/demoing our system. 1 Introduction In this paper, we present and evaluate a geolocation prediction method for Twitter users.&apos; Given a user’s tweet data as input, the task of user level geolocation prediction is to infer a primary location (i.e., “home location”: Mahmud et al. (2012)) for the user from a discrete set of pre-defined locations (Cheng et al., 2010). For instance, President Obama’s location might be predicted to be Washington D.C., USA, based on his public tweets and profile metadata. Geolocation information is essential to locationbased applications, like targeted advertising and local event detection (Sakaki et al., 2010; MacEachren et al., 2011). However, the means to obtain such information are limited. Although Twitter allows users to specify a plain text description of their location in their profile, these descriptions tend to be ad hoc and unreliable (Cheng &apos;We only use public Twitter data for experiments and exemplification in t</context>
<context position="3987" citStr="Cheng et al., 2010" startWordPosition="612" endWordPosition="615">ground and Related Work Identifying the geolocation of objects has been widely studied in the research literature over target objects including webpages (Zong et al., 2005), search queries (Backstrom et al., 2008), Flickr images (Crandall et al., 2009) and Wikipedia editors (Lieberman and Lin, 2009). Recently, a considerable amount of work has been devoted to extending geolocation prediction for Twitter 7 Proceedings of the 51st Annual Meeting of the Association for Computational Linguistics, pages 7–12, Sofia, Bulgaria, August 4-9 2013. c�2013 Association for Computational Linguistics users (Cheng et al., 2010; Eisenstein et al., 2010). The geolocations are usually represented by unambiguous city names or a partitioning of the earth’s surface (e.g., grid cells specified by latitude/longitude). User geolocation is generally related to a “home” location where a user regularly resides, and user mobility is ignored. Twitter allows users to declare their home locations in plain text in their profile, however, this data has been found to be unstructured and ad hoc in preliminary research (Cheng et al., 2010; Hecht et al., 2011). While popular for desktop machine geolocation, methods that map IP addresses</context>
<context position="5777" citStr="Cheng et al. (2010)" startWordPosition="893" endWordPosition="896">regions. Attempts to leverage this data directly have been based on analysis of gazetted expressions (Leidner and Lieberman, 2011) or the identification of geographical entities (Quercini et al., 2010; Qin et al., 2003). However these methods are limited in their ability to capture informal geospatial expressions (e.g. Brissie for Brisbane) and more nongeospatial terms which are associated with particular locations (e.g. ferry for Seattle or Sydney). Beyond identifying geographical references using off-the-shelf tools, more sophisticated methods have been introduced in the social media realm. Cheng et al. (2010) built a simple generative model based on tweet words, and further added words which are local to particular regions and applied smoothing to under-represented locations. Kinsella et al. (2011) applied different similarity measures to the task, and investigated the relative difficulty of geolocation prediction at city, state, and country levels. Wing and Baldridge (2011) introduced a grid-based representation for geolocation modeling and inference based on fixed latitude and longitude values, and aggregated all tweets in a single cell. Their approach was then based on lexical similarity using </context>
<context position="11157" citStr="Cheng et al., 2010" startWordPosition="1762" endWordPosition="1765">oach with existing benchmarks on a public dataset, and investigate the impact of time using a recently collected dataset. 4.1 Evaluation Measures In line with other work on user geolocation prediction, we use three evaluation measures: • Acc : The percentage of correct city-level predictions. • Acc@161 : The percentage of predicted locations which are within a 161km (100 mile) Methods Acc Acc@161 Median KL .117 .277 793 MB .126 .262 913 KL-NG .260 .487 181 MB-NG .280 .492 170 MB-LOC .405 .525 92 MB-TZ .064 .171 1330 STACKING .490 .665 9 Table 1: Results over WORLD radius of the home location (Cheng et al., 2010), to capture near-misses (e.g., Edinburgh UK being predicted as Glasgow, UK). Median: The median distance from the predicted city to the home location (Eisenstein et al., 2010). • 4.2 Comparison with Benchmarks We base our evaluation on the publicly-available WORLD dataset of Han et al. (2012). The dataset contains 1.4M users whose tweets are primarily identified as English based on the output of the langid.py language identification tool (Lui and Baldwin, 2012), and who have posted at least 10 geotagged tweets. The city-level home location for a geotagged user is determined as follows. First,</context>
<context position="13331" citStr="Cheng et al. (2010)" startWordPosition="2125" endWordPosition="2128">so present results based on the user-declared location (MB-LOC) and time zone (MB-TZ), and finally the stacking method (STACKING) which combines MB-NG, MB-LOC and MB-TZ. The results are shown in Table 1. 9 The approximate doubling of Acc for KLNG and MB-NG over KL and MB, respectively, demonstrates the high utility of non-geotagged data in tweet text-based geolocation prediction. Of the two original models, we can see that MB is comparable to KL, in line with the findings of Han et al. (2012). The MB-LOC results are by far the highest of all the base classifiers. Contrary to the suggestion of Cheng et al. (2010) that userdeclared locations are too unreliable to use for user geolocation, we find evidence indicating that they are indeed a valuable source of information for this task. The best overall results are achieved for the stacking approach (STACKING), assigning almost half of the test users to the correct city-level location, and improving more than four-fold on the previous-best accuracy (i.e., MB). These results also suggest that there is strong complementarity between user metadata and tweet text. 4.3 Evaluation on Time-Heterogeneous Data In addition to the original held-out test data (WORLDt</context>
</contexts>
<marker>Cheng, Caverlee, Lee, 2010</marker>
<rawString>Zhiyuan Cheng, James Caverlee, and Kyumin Lee. 2010. You are where you tweet: a content-based approach to geo-locating twitter users. In Proc. of CIKM, pages 759–768, Toronto, Canada.</rawString>
</citation>
<citation valid="true">
<authors>
<author>David J Crandall</author>
<author>Lars Backstrom</author>
<author>Daniel Huttenlocher</author>
<author>Jon Kleinberg</author>
</authors>
<title>Mapping the world’s photos.</title>
<date>2009</date>
<booktitle>In Proc. of WWW,</booktitle>
<pages>761--770</pages>
<location>Madrid,</location>
<contexts>
<context position="3621" citStr="Crandall et al., 2009" startWordPosition="559" endWordPosition="562">y a large margin, achieving 49% accuracy on the test data. We further evaluate the stacking model on a more recent crawl of public tweets. This experiment tests the effectiveness of a geolocation model trained on “old” data when applied to “new” data. The results reveal that user-declared locations are more variable over time than tweet text and time zone data. 2 Background and Related Work Identifying the geolocation of objects has been widely studied in the research literature over target objects including webpages (Zong et al., 2005), search queries (Backstrom et al., 2008), Flickr images (Crandall et al., 2009) and Wikipedia editors (Lieberman and Lin, 2009). Recently, a considerable amount of work has been devoted to extending geolocation prediction for Twitter 7 Proceedings of the 51st Annual Meeting of the Association for Computational Linguistics, pages 7–12, Sofia, Bulgaria, August 4-9 2013. c�2013 Association for Computational Linguistics users (Cheng et al., 2010; Eisenstein et al., 2010). The geolocations are usually represented by unambiguous city names or a partitioning of the earth’s surface (e.g., grid cells specified by latitude/longitude). User geolocation is generally related to a “ho</context>
</contexts>
<marker>Crandall, Backstrom, Huttenlocher, Kleinberg, 2009</marker>
<rawString>David J. Crandall, Lars Backstrom, Daniel Huttenlocher, and Jon Kleinberg. 2009. Mapping the world’s photos. In Proc. of WWW, pages 761–770, Madrid, Spain.</rawString>
</citation>
<citation valid="true">
<authors>
<author>Jacob Eisenstein</author>
<author>Brendan O’Connor</author>
<author>Noah A Smith</author>
<author>Eric P Xing</author>
</authors>
<title>A latent variable model for geographic lexical variation.</title>
<date>2010</date>
<booktitle>In Proc. of EMNLP,</booktitle>
<pages>1277--1287</pages>
<location>Cambridge, MA, USA.</location>
<marker>Eisenstein, O’Connor, Smith, Xing, 2010</marker>
<rawString>Jacob Eisenstein, Brendan O’Connor, Noah A. Smith, and Eric P. Xing. 2010. A latent variable model for geographic lexical variation. In Proc. of EMNLP, pages 1277–1287, Cambridge, MA, USA.</rawString>
</citation>
<citation valid="true">
<authors>
<author>Rong-En Fan</author>
<author>Kai-Wei Chang</author>
<author>Cho-Jui Hsieh</author>
<author>XiangRui Wang</author>
<author>Chih-Jen Lin</author>
</authors>
<title>LIBLINEAR: A library for large linear classification.</title>
<date>2008</date>
<journal>Journal of Machine Learning Research,</journal>
<pages>9--1871</pages>
<contexts>
<context position="10454" citStr="Fan et al., 2008" startWordPosition="1641" endWordPosition="1644">pturing the text in the form of character 4-grams, and training a multinomial naive Bayes classifier for each field. To combine together the tweet text and metadata fields, we use stacking (Wolpert, 1992). The training of stacking consists of two steps. First, a multinomial naive Bayes base classifier (L0) is learned for each data type using 10-fold cross validation. This is carried out for the tweet text (TEXT), user-declared location (MB-LOC) and user-declared time zone (MB-TZ). Next, a metaclassifier (L1 classifier) is trained over the base classifiers, using a logistic regression learner (Fan et al., 2008). 4 Evaluation and Discussion In this section, we compare our proposed stacking approach with existing benchmarks on a public dataset, and investigate the impact of time using a recently collected dataset. 4.1 Evaluation Measures In line with other work on user geolocation prediction, we use three evaluation measures: • Acc : The percentage of correct city-level predictions. • Acc@161 : The percentage of predicted locations which are within a 161km (100 mile) Methods Acc Acc@161 Median KL .117 .277 793 MB .126 .262 913 KL-NG .260 .487 181 MB-NG .280 .492 170 MB-LOC .405 .525 92 MB-TZ .064 .171</context>
</contexts>
<marker>Fan, Chang, Hsieh, Wang, Lin, 2008</marker>
<rawString>Rong-En Fan, Kai-Wei Chang, Cho-Jui Hsieh, XiangRui Wang, and Chih-Jen Lin. 2008. LIBLINEAR: A library for large linear classification. Journal of Machine Learning Research, 9:1871–1874.</rawString>
</citation>
<citation valid="true">
<authors>
<author>Bo Han</author>
<author>Paul Cook</author>
<author>Timothy Baldwin</author>
</authors>
<title>Geolocation prediction in social media data by finding location indicative words.</title>
<date>2012</date>
<booktitle>In Proc. of COLING,</booktitle>
<pages>1045--1062</pages>
<location>Mumbai, India.</location>
<contexts>
<context position="2660" citStr="Han et al., 2012" startWordPosition="409" endWordPosition="412">12), based on the assumption that tweets implicitly contain locating information, and with appropriate statistical modeling, the true location can be inferred. For instance, if a user frequently mentions NYC, JFK and yankees, it is likely that they are from New York City, USA. In this paper, we discuss an implementation of a global city-level geolocation prediction system for English Twitter users. The system utilises both tweet text and public profile metadata for modeling and inference. Specifically, we train multinomial Bayes classifiers based on location indicative words (LIWs) in tweets (Han et al., 2012), and user-declared location and time zone metadata. These base classifiers are further stacked (Wolpert, 1992) using logistic regression as the meta-classifier. The proposed stacking model is compared with benchmarks on a public geolocation dataset. Experimental results demonstrate that our stacking model outperforms benchmark methods by a large margin, achieving 49% accuracy on the test data. We further evaluate the stacking model on a more recent crawl of public tweets. This experiment tests the effectiveness of a geolocation model trained on “old” data when applied to “new” data. The resul</context>
<context position="6791" citStr="Han et al. (2012)" startWordPosition="1058" endWordPosition="1061"> representation for geolocation modeling and inference based on fixed latitude and longitude values, and aggregated all tweets in a single cell. Their approach was then based on lexical similarity using KL-divergence. One drawback to the uniformsized cell representation is that it introduces class imbalance: urban areas tend to contain far more tweets than rural areas. Based on this observation, Roller et al. (2012) introduced an adaptive grid representation in which cells contain approximately the same number of users, based on a KDtree partition. Given that most tweets are from urban areas, Han et al. (2012) consider a citybased class division, and explore different feature selection methods to extract “location indicative words”, which they show to improve prediction accuracy. Additionally, time zone information has been incorporated in a coarse-to-fine hierarchical model by first determining the time zone, and then disambiguating locations within it (Mahmud et al., 2012). Topic models have also been applied to the task, in capturing regional linguistic differences (Eisenstein et al., 2010; Yin et al., 2011; Hong et al., 2012). When designing a practical geolocation system, simple models such as</context>
<context position="8211" citStr="Han et al. (2012)" startWordPosition="1280" endWordPosition="1283"> thousands of classes) and sheer volume of training data (potentially in the terabytes of data). This is particularly important for online systems and downstream applications that require timely predictions. As such, we build off the text-based naive Bayes-based geolocation system of Han et al. (2012), which our experiments have shown to have a good balance of tractability and accuracy. By selecting a reduced set of “location indicative words”, prediction can be further accelerated. 3 Methodology In this study, we adopt the same city-based representation and multinomial naive Bayes learner as Han et al. (2012). The city-based representation consists of 3,709 cities throughout the world, and is obtained by aggregating smaller cities with the largest nearby city. Han et al. (2012) found that using feature selection to identify “location indicative words” led to improvements in geolocation performance. We use the same feature selection technique that they did. Specifically, feature selection is based on information gain ratio (IGR) (Quinlan, 1993) over the city-based label set for each word. In the original research of Han et al. (2012), 8 only the text of Twitter messages was used, and training was b</context>
<context position="11451" citStr="Han et al. (2012)" startWordPosition="1810" endWordPosition="1813">Acc@161 : The percentage of predicted locations which are within a 161km (100 mile) Methods Acc Acc@161 Median KL .117 .277 793 MB .126 .262 913 KL-NG .260 .487 181 MB-NG .280 .492 170 MB-LOC .405 .525 92 MB-TZ .064 .171 1330 STACKING .490 .665 9 Table 1: Results over WORLD radius of the home location (Cheng et al., 2010), to capture near-misses (e.g., Edinburgh UK being predicted as Glasgow, UK). Median: The median distance from the predicted city to the home location (Eisenstein et al., 2010). • 4.2 Comparison with Benchmarks We base our evaluation on the publicly-available WORLD dataset of Han et al. (2012). The dataset contains 1.4M users whose tweets are primarily identified as English based on the output of the langid.py language identification tool (Lui and Baldwin, 2012), and who have posted at least 10 geotagged tweets. The city-level home location for a geotagged user is determined as follows. First, each of a user’s geotagged tweets is mapped to its nearest city (based on the same set of 3,709 cities used for the city-based location representation). Then, the most frequent city for a user is selected as the home location. To benchmark our method, we reimplement two recently-published sta</context>
<context position="13209" citStr="Han et al. (2012)" startWordPosition="2103" endWordPosition="2106">cluding non-geotagged data for users with geotagged messages for the two methods, as KL-NG and MBNG, respectively. We also present results based on the user-declared location (MB-LOC) and time zone (MB-TZ), and finally the stacking method (STACKING) which combines MB-NG, MB-LOC and MB-TZ. The results are shown in Table 1. 9 The approximate doubling of Acc for KLNG and MB-NG over KL and MB, respectively, demonstrates the high utility of non-geotagged data in tweet text-based geolocation prediction. Of the two original models, we can see that MB is comparable to KL, in line with the findings of Han et al. (2012). The MB-LOC results are by far the highest of all the base classifiers. Contrary to the suggestion of Cheng et al. (2010) that userdeclared locations are too unreliable to use for user geolocation, we find evidence indicating that they are indeed a valuable source of information for this task. The best overall results are achieved for the stacking approach (STACKING), assigning almost half of the test users to the correct city-level location, and improving more than four-fold on the previous-best accuracy (i.e., MB). These results also suggest that there is strong complementarity between user</context>
</contexts>
<marker>Han, Cook, Baldwin, 2012</marker>
<rawString>Bo Han, Paul Cook, and Timothy Baldwin. 2012. Geolocation prediction in social media data by finding location indicative words. In Proc. of COLING, pages 1045–1062, Mumbai, India.</rawString>
</citation>
<citation valid="true">
<authors>
<author>Brent Hecht</author>
<author>Lichan Hong</author>
<author>Bongwon Suh</author>
<author>Ed H Chi</author>
</authors>
<title>Tweets from justin bieber’s heart: the dynamics of the location field in user profiles.</title>
<date>2011</date>
<booktitle>In Proc. of SIGCHI,</booktitle>
<pages>237--246</pages>
<location>Vancouver, Canada.</location>
<contexts>
<context position="4509" citStr="Hecht et al., 2011" startWordPosition="698" endWordPosition="701">aria, August 4-9 2013. c�2013 Association for Computational Linguistics users (Cheng et al., 2010; Eisenstein et al., 2010). The geolocations are usually represented by unambiguous city names or a partitioning of the earth’s surface (e.g., grid cells specified by latitude/longitude). User geolocation is generally related to a “home” location where a user regularly resides, and user mobility is ignored. Twitter allows users to declare their home locations in plain text in their profile, however, this data has been found to be unstructured and ad hoc in preliminary research (Cheng et al., 2010; Hecht et al., 2011). While popular for desktop machine geolocation, methods that map IP addresses to physical locations (Buyukokkten et al., 1999) cannot be applied to Twitter-based user geolocation, as IPs are only known to the service provider and are non-trivial to retrieve in a mobile Internet environment. Although social network information has been proven effective in inferring user locations (Backstrom et al., 2010; Sadilek et al., 2012; Rout et al., 2013), we focus exclusively on message and metadata information in this paper, as they are more readily accessible. Text data tends to contain salient geospa</context>
</contexts>
<marker>Hecht, Hong, Suh, Chi, 2011</marker>
<rawString>Brent Hecht, Lichan Hong, Bongwon Suh, and Ed H. Chi. 2011. Tweets from justin bieber’s heart: the dynamics of the location field in user profiles. In Proc. of SIGCHI, pages 237–246, Vancouver, Canada.</rawString>
</citation>
<citation valid="true">
<authors>
<author>Liangjie Hong</author>
<author>Amr Ahmed</author>
<author>Siva Gurumurthy</author>
<author>Alexander J Smola</author>
</authors>
<title>and Kostas Tsioutsiouliklis.</title>
<date>2012</date>
<booktitle>In Proc. of WWW,</booktitle>
<pages>769--778</pages>
<location>Lyon, France.</location>
<contexts>
<context position="7321" citStr="Hong et al., 2012" startWordPosition="1136" endWordPosition="1139">ed on a KDtree partition. Given that most tweets are from urban areas, Han et al. (2012) consider a citybased class division, and explore different feature selection methods to extract “location indicative words”, which they show to improve prediction accuracy. Additionally, time zone information has been incorporated in a coarse-to-fine hierarchical model by first determining the time zone, and then disambiguating locations within it (Mahmud et al., 2012). Topic models have also been applied to the task, in capturing regional linguistic differences (Eisenstein et al., 2010; Yin et al., 2011; Hong et al., 2012). When designing a practical geolocation system, simple models such as naive Bayes and nearest prototype methods (e.g., based on KL divergence) have clear advantages in terms of training and classification throughput, given the size of the class set (often numbering in the thousands of classes) and sheer volume of training data (potentially in the terabytes of data). This is particularly important for online systems and downstream applications that require timely predictions. As such, we build off the text-based naive Bayes-based geolocation system of Han et al. (2012), which our experiments h</context>
</contexts>
<marker>Hong, Ahmed, Gurumurthy, Smola, 2012</marker>
<rawString>Liangjie Hong, Amr Ahmed, Siva Gurumurthy, Alexander J. Smola, and Kostas Tsioutsiouliklis. 2012. Discovering geographical topics in the twitter stream. In Proc. of WWW, pages 769–778, Lyon, France.</rawString>
</citation>
<citation valid="true">
<authors>
<author>Sheila Kinsella</author>
<author>Vanessa Murdock</author>
<author>Neil O’Hare</author>
</authors>
<title>I’m eating a sandwich in glasgow”: modeling locations with tweets.</title>
<date>2011</date>
<booktitle>In Proc. of the 3rd International Workshop on Search and Mining Usergenerated Contents,</booktitle>
<pages>61--68</pages>
<location>Glasgow, UK.</location>
<marker>Kinsella, Murdock, O’Hare, 2011</marker>
<rawString>Sheila Kinsella, Vanessa Murdock, and Neil O’Hare. 2011. ”I’m eating a sandwich in glasgow”: modeling locations with tweets. In Proc. of the 3rd International Workshop on Search and Mining Usergenerated Contents, pages 61–68, Glasgow, UK.</rawString>
</citation>
<citation valid="true">
<authors>
<author>Jochen L Leidner</author>
<author>Michael D Lieberman</author>
</authors>
<title>Detecting geographical references in the form of place names and associated spatial natural language.</title>
<date>2011</date>
<journal>SIGSPATIAL Special,</journal>
<volume>3</volume>
<issue>2</issue>
<contexts>
<context position="5288" citStr="Leidner and Lieberman, 2011" startWordPosition="818" endWordPosition="822">itter-based user geolocation, as IPs are only known to the service provider and are non-trivial to retrieve in a mobile Internet environment. Although social network information has been proven effective in inferring user locations (Backstrom et al., 2010; Sadilek et al., 2012; Rout et al., 2013), we focus exclusively on message and metadata information in this paper, as they are more readily accessible. Text data tends to contain salient geospatial expressions that are particular to specific regions. Attempts to leverage this data directly have been based on analysis of gazetted expressions (Leidner and Lieberman, 2011) or the identification of geographical entities (Quercini et al., 2010; Qin et al., 2003). However these methods are limited in their ability to capture informal geospatial expressions (e.g. Brissie for Brisbane) and more nongeospatial terms which are associated with particular locations (e.g. ferry for Seattle or Sydney). Beyond identifying geographical references using off-the-shelf tools, more sophisticated methods have been introduced in the social media realm. Cheng et al. (2010) built a simple generative model based on tweet words, and further added words which are local to particular re</context>
</contexts>
<marker>Leidner, Lieberman, 2011</marker>
<rawString>Jochen L. Leidner and Michael D. Lieberman. 2011. Detecting geographical references in the form of place names and associated spatial natural language. SIGSPATIAL Special, 3(2):5–11.</rawString>
</citation>
<citation valid="true">
<authors>
<author>Michael D Lieberman</author>
<author>Jimmy Lin</author>
</authors>
<title>You are where you edit: Locating wikipedia contributors through edit histories.</title>
<date>2009</date>
<booktitle>In ICWSM.</booktitle>
<contexts>
<context position="3669" citStr="Lieberman and Lin, 2009" startWordPosition="567" endWordPosition="570">e test data. We further evaluate the stacking model on a more recent crawl of public tweets. This experiment tests the effectiveness of a geolocation model trained on “old” data when applied to “new” data. The results reveal that user-declared locations are more variable over time than tweet text and time zone data. 2 Background and Related Work Identifying the geolocation of objects has been widely studied in the research literature over target objects including webpages (Zong et al., 2005), search queries (Backstrom et al., 2008), Flickr images (Crandall et al., 2009) and Wikipedia editors (Lieberman and Lin, 2009). Recently, a considerable amount of work has been devoted to extending geolocation prediction for Twitter 7 Proceedings of the 51st Annual Meeting of the Association for Computational Linguistics, pages 7–12, Sofia, Bulgaria, August 4-9 2013. c�2013 Association for Computational Linguistics users (Cheng et al., 2010; Eisenstein et al., 2010). The geolocations are usually represented by unambiguous city names or a partitioning of the earth’s surface (e.g., grid cells specified by latitude/longitude). User geolocation is generally related to a “home” location where a user regularly resides, and</context>
</contexts>
<marker>Lieberman, Lin, 2009</marker>
<rawString>Michael D. Lieberman and Jimmy Lin. 2009. You are where you edit: Locating wikipedia contributors through edit histories. In ICWSM.</rawString>
</citation>
<citation valid="true">
<authors>
<author>Marco Lui</author>
<author>Timothy Baldwin</author>
</authors>
<title>langid.py: An off-the-shelf language identification tool.</title>
<date>2012</date>
<booktitle>In Proc. of the ACL,</booktitle>
<pages>25--30</pages>
<location>Jeju Island,</location>
<contexts>
<context position="11623" citStr="Lui and Baldwin, 2012" startWordPosition="1836" endWordPosition="1839">-NG .280 .492 170 MB-LOC .405 .525 92 MB-TZ .064 .171 1330 STACKING .490 .665 9 Table 1: Results over WORLD radius of the home location (Cheng et al., 2010), to capture near-misses (e.g., Edinburgh UK being predicted as Glasgow, UK). Median: The median distance from the predicted city to the home location (Eisenstein et al., 2010). • 4.2 Comparison with Benchmarks We base our evaluation on the publicly-available WORLD dataset of Han et al. (2012). The dataset contains 1.4M users whose tweets are primarily identified as English based on the output of the langid.py language identification tool (Lui and Baldwin, 2012), and who have posted at least 10 geotagged tweets. The city-level home location for a geotagged user is determined as follows. First, each of a user’s geotagged tweets is mapped to its nearest city (based on the same set of 3,709 cities used for the city-based location representation). Then, the most frequent city for a user is selected as the home location. To benchmark our method, we reimplement two recently-published state-of-the-art methods: (1) the KL-divergence nearest prototype method of Roller et al. (2012) based on KD-tree partitioned grid cells, which we denote as KL; and (2) the mu</context>
</contexts>
<marker>Lui, Baldwin, 2012</marker>
<rawString>Marco Lui and Timothy Baldwin. 2012. langid.py: An off-the-shelf language identification tool. In Proc. of the ACL, pages 25–30, Jeju Island, Korea.</rawString>
</citation>
<citation valid="true">
<authors>
<author>Alan M MacEachren</author>
<author>Anuj Jaiswal</author>
<author>Anthony C Robinson</author>
<author>Scott Pezanowski</author>
<author>Alexander Savelyev</author>
<author>Prasenjit Mitra</author>
<author>Xiao Zhang</author>
<author>Justine Blanford</author>
</authors>
<title>Senseplace2: Geotwitter analytics support for situational awareness.</title>
<date>2011</date>
<booktitle>In IEEE Conference on Visual Analytics Science and Technology,</booktitle>
<pages>181--190</pages>
<location>Rhode Island, USA.</location>
<contexts>
<context position="1596" citStr="MacEachren et al., 2011" startWordPosition="236" endWordPosition="239">aper, we present and evaluate a geolocation prediction method for Twitter users.&apos; Given a user’s tweet data as input, the task of user level geolocation prediction is to infer a primary location (i.e., “home location”: Mahmud et al. (2012)) for the user from a discrete set of pre-defined locations (Cheng et al., 2010). For instance, President Obama’s location might be predicted to be Washington D.C., USA, based on his public tweets and profile metadata. Geolocation information is essential to locationbased applications, like targeted advertising and local event detection (Sakaki et al., 2010; MacEachren et al., 2011). However, the means to obtain such information are limited. Although Twitter allows users to specify a plain text description of their location in their profile, these descriptions tend to be ad hoc and unreliable (Cheng &apos;We only use public Twitter data for experiments and exemplification in this study. et al., 2010). Recently, user geolocation prediction based on a user’s tweets has become popular (Wing and Baldridge, 2011; Roller et al., 2012), based on the assumption that tweets implicitly contain locating information, and with appropriate statistical modeling, the true location can be inf</context>
</contexts>
<marker>MacEachren, Jaiswal, Robinson, Pezanowski, Savelyev, Mitra, Zhang, Blanford, 2011</marker>
<rawString>Alan M. MacEachren, Anuj Jaiswal, Anthony C. Robinson, Scott Pezanowski, Alexander Savelyev, Prasenjit Mitra, Xiao Zhang, and Justine Blanford. 2011. Senseplace2: Geotwitter analytics support for situational awareness. In IEEE Conference on Visual Analytics Science and Technology, pages 181– 190, Rhode Island, USA.</rawString>
</citation>
<citation valid="true">
<authors>
<author>Jalal Mahmud</author>
<author>Jeffrey Nichols</author>
<author>Clemens Drews</author>
</authors>
<title>Where is this tweet from? inferring home locations of twitter users.</title>
<date>2012</date>
<booktitle>In Proc. of ICWSM,</booktitle>
<location>Dublin, Ireland.</location>
<contexts>
<context position="1211" citStr="Mahmud et al. (2012)" startWordPosition="176" endWordPosition="179">accuracy on a benchmark dataset. We further evaluate our method on a recent crawl of Twitter data to investigate the impact of temporal factors on model generalisation. Our results suggest that user-declared location metadata is more sensitive to temporal change than the text of Twitter messages. We also describe two ways of accessing/demoing our system. 1 Introduction In this paper, we present and evaluate a geolocation prediction method for Twitter users.&apos; Given a user’s tweet data as input, the task of user level geolocation prediction is to infer a primary location (i.e., “home location”: Mahmud et al. (2012)) for the user from a discrete set of pre-defined locations (Cheng et al., 2010). For instance, President Obama’s location might be predicted to be Washington D.C., USA, based on his public tweets and profile metadata. Geolocation information is essential to locationbased applications, like targeted advertising and local event detection (Sakaki et al., 2010; MacEachren et al., 2011). However, the means to obtain such information are limited. Although Twitter allows users to specify a plain text description of their location in their profile, these descriptions tend to be ad hoc and unreliable </context>
<context position="7163" citStr="Mahmud et al., 2012" startWordPosition="1110" endWordPosition="1113">s. Based on this observation, Roller et al. (2012) introduced an adaptive grid representation in which cells contain approximately the same number of users, based on a KDtree partition. Given that most tweets are from urban areas, Han et al. (2012) consider a citybased class division, and explore different feature selection methods to extract “location indicative words”, which they show to improve prediction accuracy. Additionally, time zone information has been incorporated in a coarse-to-fine hierarchical model by first determining the time zone, and then disambiguating locations within it (Mahmud et al., 2012). Topic models have also been applied to the task, in capturing regional linguistic differences (Eisenstein et al., 2010; Yin et al., 2011; Hong et al., 2012). When designing a practical geolocation system, simple models such as naive Bayes and nearest prototype methods (e.g., based on KL divergence) have clear advantages in terms of training and classification throughput, given the size of the class set (often numbering in the thousands of classes) and sheer volume of training data (potentially in the terabytes of data). This is particularly important for online systems and downstream applica</context>
</contexts>
<marker>Mahmud, Nichols, Drews, 2012</marker>
<rawString>Jalal Mahmud, Jeffrey Nichols, and Clemens Drews. 2012. Where is this tweet from? inferring home locations of twitter users. In Proc. of ICWSM, Dublin, Ireland.</rawString>
</citation>
<citation valid="true">
<authors>
<author>Teng Qin</author>
<author>Rong Xiao</author>
<author>Lei Fang</author>
<author>Xing Xie</author>
<author>Lei Zhang</author>
</authors>
<title>An efficient location extraction algorithm by leveraging web contextual information.</title>
<date>2003</date>
<booktitle>In Proc. of SIGSPATIAL,</booktitle>
<pages>55--62</pages>
<location>San Jose, USA.</location>
<contexts>
<context position="5377" citStr="Qin et al., 2003" startWordPosition="833" endWordPosition="836">etrieve in a mobile Internet environment. Although social network information has been proven effective in inferring user locations (Backstrom et al., 2010; Sadilek et al., 2012; Rout et al., 2013), we focus exclusively on message and metadata information in this paper, as they are more readily accessible. Text data tends to contain salient geospatial expressions that are particular to specific regions. Attempts to leverage this data directly have been based on analysis of gazetted expressions (Leidner and Lieberman, 2011) or the identification of geographical entities (Quercini et al., 2010; Qin et al., 2003). However these methods are limited in their ability to capture informal geospatial expressions (e.g. Brissie for Brisbane) and more nongeospatial terms which are associated with particular locations (e.g. ferry for Seattle or Sydney). Beyond identifying geographical references using off-the-shelf tools, more sophisticated methods have been introduced in the social media realm. Cheng et al. (2010) built a simple generative model based on tweet words, and further added words which are local to particular regions and applied smoothing to under-represented locations. Kinsella et al. (2011) applie</context>
</contexts>
<marker>Qin, Xiao, Fang, Xie, Zhang, 2003</marker>
<rawString>Teng Qin, Rong Xiao, Lei Fang, Xing Xie, and Lei Zhang. 2003. An efficient location extraction algorithm by leveraging web contextual information. In Proc. of SIGSPATIAL, pages 55–62, San Jose, USA.</rawString>
</citation>
<citation valid="true">
<authors>
<author>Gianluca Quercini</author>
<author>Hanan Samet</author>
<author>Jagan Sankaranarayanan</author>
<author>Michael D Lieberman</author>
</authors>
<title>Determining the spatial reader scopes of news sources using local lexicons.</title>
<date>2010</date>
<booktitle>In Proc. of the 18th International Conference on Advances in Geographic Information Systems,</booktitle>
<pages>43--52</pages>
<location>San Jose, USA.</location>
<contexts>
<context position="5358" citStr="Quercini et al., 2010" startWordPosition="829" endWordPosition="832">nd are non-trivial to retrieve in a mobile Internet environment. Although social network information has been proven effective in inferring user locations (Backstrom et al., 2010; Sadilek et al., 2012; Rout et al., 2013), we focus exclusively on message and metadata information in this paper, as they are more readily accessible. Text data tends to contain salient geospatial expressions that are particular to specific regions. Attempts to leverage this data directly have been based on analysis of gazetted expressions (Leidner and Lieberman, 2011) or the identification of geographical entities (Quercini et al., 2010; Qin et al., 2003). However these methods are limited in their ability to capture informal geospatial expressions (e.g. Brissie for Brisbane) and more nongeospatial terms which are associated with particular locations (e.g. ferry for Seattle or Sydney). Beyond identifying geographical references using off-the-shelf tools, more sophisticated methods have been introduced in the social media realm. Cheng et al. (2010) built a simple generative model based on tweet words, and further added words which are local to particular regions and applied smoothing to under-represented locations. Kinsella e</context>
</contexts>
<marker>Quercini, Samet, Sankaranarayanan, Lieberman, 2010</marker>
<rawString>Gianluca Quercini, Hanan Samet, Jagan Sankaranarayanan, and Michael D. Lieberman. 2010. Determining the spatial reader scopes of news sources using local lexicons. In Proc. of the 18th International Conference on Advances in Geographic Information Systems, pages 43–52, San Jose, USA.</rawString>
</citation>
<citation valid="true">
<authors>
<author>John Ross Quinlan</author>
</authors>
<title>C4.5: Programs for Machine Learning.</title>
<date>1993</date>
<publisher>Morgan Kaufmann,</publisher>
<location>San Mateo, USA.</location>
<contexts>
<context position="8654" citStr="Quinlan, 1993" startWordPosition="1349" endWordPosition="1350">”, prediction can be further accelerated. 3 Methodology In this study, we adopt the same city-based representation and multinomial naive Bayes learner as Han et al. (2012). The city-based representation consists of 3,709 cities throughout the world, and is obtained by aggregating smaller cities with the largest nearby city. Han et al. (2012) found that using feature selection to identify “location indicative words” led to improvements in geolocation performance. We use the same feature selection technique that they did. Specifically, feature selection is based on information gain ratio (IGR) (Quinlan, 1993) over the city-based label set for each word. In the original research of Han et al. (2012), 8 only the text of Twitter messages was used, and training was based exclusively on geotagged tweets, despite these accounting for only around 1% of the total public data on Twitter. In this research, we include additional non-geotagged tweets (e.g., posted from a non-GPS enabled device) for those users who have geotagged tweets (allowing us to determine a home location for the user). In addition to including non-geotagged data in modeling and inference, we further take advantage of the text-based meta</context>
</contexts>
<marker>Quinlan, 1993</marker>
<rawString>John Ross Quinlan. 1993. C4.5: Programs for Machine Learning. Morgan Kaufmann, San Mateo, USA.</rawString>
</citation>
<citation valid="true">
<authors>
<author>Stephen Roller</author>
<author>Michael Speriosu</author>
<author>Sarat Rallapalli</author>
<author>Benjamin Wing</author>
<author>Jason Baldridge</author>
</authors>
<title>Supervised text-based geolocation using language models on an adaptive grid.</title>
<date>2012</date>
<booktitle>In Proc. of EMNLP,</booktitle>
<pages>1500--1510</pages>
<location>Jeju Island,</location>
<contexts>
<context position="2046" citStr="Roller et al., 2012" startWordPosition="311" endWordPosition="314">ta. Geolocation information is essential to locationbased applications, like targeted advertising and local event detection (Sakaki et al., 2010; MacEachren et al., 2011). However, the means to obtain such information are limited. Although Twitter allows users to specify a plain text description of their location in their profile, these descriptions tend to be ad hoc and unreliable (Cheng &apos;We only use public Twitter data for experiments and exemplification in this study. et al., 2010). Recently, user geolocation prediction based on a user’s tweets has become popular (Wing and Baldridge, 2011; Roller et al., 2012), based on the assumption that tweets implicitly contain locating information, and with appropriate statistical modeling, the true location can be inferred. For instance, if a user frequently mentions NYC, JFK and yankees, it is likely that they are from New York City, USA. In this paper, we discuss an implementation of a global city-level geolocation prediction system for English Twitter users. The system utilises both tweet text and public profile metadata for modeling and inference. Specifically, we train multinomial Bayes classifiers based on location indicative words (LIWs) in tweets (Han</context>
<context position="6593" citStr="Roller et al. (2012)" startWordPosition="1024" endWordPosition="1027">plied different similarity measures to the task, and investigated the relative difficulty of geolocation prediction at city, state, and country levels. Wing and Baldridge (2011) introduced a grid-based representation for geolocation modeling and inference based on fixed latitude and longitude values, and aggregated all tweets in a single cell. Their approach was then based on lexical similarity using KL-divergence. One drawback to the uniformsized cell representation is that it introduces class imbalance: urban areas tend to contain far more tweets than rural areas. Based on this observation, Roller et al. (2012) introduced an adaptive grid representation in which cells contain approximately the same number of users, based on a KDtree partition. Given that most tweets are from urban areas, Han et al. (2012) consider a citybased class division, and explore different feature selection methods to extract “location indicative words”, which they show to improve prediction accuracy. Additionally, time zone information has been incorporated in a coarse-to-fine hierarchical model by first determining the time zone, and then disambiguating locations within it (Mahmud et al., 2012). Topic models have also been </context>
<context position="12144" citStr="Roller et al. (2012)" startWordPosition="1920" endWordPosition="1923">s English based on the output of the langid.py language identification tool (Lui and Baldwin, 2012), and who have posted at least 10 geotagged tweets. The city-level home location for a geotagged user is determined as follows. First, each of a user’s geotagged tweets is mapped to its nearest city (based on the same set of 3,709 cities used for the city-based location representation). Then, the most frequent city for a user is selected as the home location. To benchmark our method, we reimplement two recently-published state-of-the-art methods: (1) the KL-divergence nearest prototype method of Roller et al. (2012) based on KD-tree partitioned grid cells, which we denote as KL; and (2) the multinomial naive Bayes city-level geolocation model of Han et al. (2012), which we denote as MB. Because of the different class representations, Acc numbers are not comparable between the benchmarks. To remedy this, we find the closest city to the centroid of each grid cell in the KD-tree representation, and map the classification onto this city. We present results including non-geotagged data for users with geotagged messages for the two methods, as KL-NG and MBNG, respectively. We also present results based on the </context>
</contexts>
<marker>Roller, Speriosu, Rallapalli, Wing, Baldridge, 2012</marker>
<rawString>Stephen Roller, Michael Speriosu, Sarat Rallapalli, Benjamin Wing, and Jason Baldridge. 2012. Supervised text-based geolocation using language models on an adaptive grid. In Proc. of EMNLP, pages 1500–1510, Jeju Island, Korea.</rawString>
</citation>
<citation valid="true">
<authors>
<author>Dominic Rout</author>
<author>Kalina Bontcheva</author>
<author>Daniel Preot¸iucPietro</author>
<author>Trevor Cohn</author>
</authors>
<title>Where’s @wally?: a classification approach to geolocating users based on their social ties.</title>
<date>2013</date>
<booktitle>In Proc. of the 24th ACM Conference on Hypertext and Social Media,</booktitle>
<pages>11--20</pages>
<location>Paris, France.</location>
<marker>Rout, Bontcheva, Preot¸iucPietro, Cohn, 2013</marker>
<rawString>Dominic Rout, Kalina Bontcheva, Daniel Preot¸iucPietro, and Trevor Cohn. 2013. Where’s @wally?: a classification approach to geolocating users based on their social ties. In Proc. of the 24th ACM Conference on Hypertext and Social Media, pages 11– 20, Paris, France.</rawString>
</citation>
<citation valid="true">
<authors>
<author>Adam Sadilek</author>
<author>Henry Kautz</author>
<author>Jeffrey P Bigham</author>
</authors>
<title>Finding your friends and following them to where you are.</title>
<date>2012</date>
<booktitle>In Proc. of WSDM,</booktitle>
<pages>723--732</pages>
<location>Seattle, USA.</location>
<contexts>
<context position="4937" citStr="Sadilek et al., 2012" startWordPosition="764" endWordPosition="767">to declare their home locations in plain text in their profile, however, this data has been found to be unstructured and ad hoc in preliminary research (Cheng et al., 2010; Hecht et al., 2011). While popular for desktop machine geolocation, methods that map IP addresses to physical locations (Buyukokkten et al., 1999) cannot be applied to Twitter-based user geolocation, as IPs are only known to the service provider and are non-trivial to retrieve in a mobile Internet environment. Although social network information has been proven effective in inferring user locations (Backstrom et al., 2010; Sadilek et al., 2012; Rout et al., 2013), we focus exclusively on message and metadata information in this paper, as they are more readily accessible. Text data tends to contain salient geospatial expressions that are particular to specific regions. Attempts to leverage this data directly have been based on analysis of gazetted expressions (Leidner and Lieberman, 2011) or the identification of geographical entities (Quercini et al., 2010; Qin et al., 2003). However these methods are limited in their ability to capture informal geospatial expressions (e.g. Brissie for Brisbane) and more nongeospatial terms which a</context>
</contexts>
<marker>Sadilek, Kautz, Bigham, 2012</marker>
<rawString>Adam Sadilek, Henry Kautz, and Jeffrey P. Bigham. 2012. Finding your friends and following them to where you are. In Proc. of WSDM, pages 723–732, Seattle, USA.</rawString>
</citation>
<citation valid="true">
<authors>
<author>Takeshi Sakaki</author>
<author>Makoto Okazaki</author>
<author>Yutaka Matsuo</author>
</authors>
<title>Earthquake shakes twitter users: real-time event detection by social sensors.</title>
<date>2010</date>
<booktitle>In Proc. of WWW,</booktitle>
<pages>851--860</pages>
<location>Raleigh, USA.</location>
<contexts>
<context position="1570" citStr="Sakaki et al., 2010" startWordPosition="232" endWordPosition="235">ntroduction In this paper, we present and evaluate a geolocation prediction method for Twitter users.&apos; Given a user’s tweet data as input, the task of user level geolocation prediction is to infer a primary location (i.e., “home location”: Mahmud et al. (2012)) for the user from a discrete set of pre-defined locations (Cheng et al., 2010). For instance, President Obama’s location might be predicted to be Washington D.C., USA, based on his public tweets and profile metadata. Geolocation information is essential to locationbased applications, like targeted advertising and local event detection (Sakaki et al., 2010; MacEachren et al., 2011). However, the means to obtain such information are limited. Although Twitter allows users to specify a plain text description of their location in their profile, these descriptions tend to be ad hoc and unreliable (Cheng &apos;We only use public Twitter data for experiments and exemplification in this study. et al., 2010). Recently, user geolocation prediction based on a user’s tweets has become popular (Wing and Baldridge, 2011; Roller et al., 2012), based on the assumption that tweets implicitly contain locating information, and with appropriate statistical modeling, th</context>
</contexts>
<marker>Sakaki, Okazaki, Matsuo, 2010</marker>
<rawString>Takeshi Sakaki, Makoto Okazaki, and Yutaka Matsuo. 2010. Earthquake shakes twitter users: real-time event detection by social sensors. In Proc. of WWW, pages 851–860, Raleigh, USA.</rawString>
</citation>
<citation valid="true">
<authors>
<author>Benjamin P Wing</author>
<author>Jason Baldridge</author>
</authors>
<title>Simple supervised document geolocation with geodesic grids.</title>
<date>2011</date>
<booktitle>In Proc. of ACL,</booktitle>
<pages>955--964</pages>
<location>Portland, USA.</location>
<contexts>
<context position="2024" citStr="Wing and Baldridge, 2011" startWordPosition="307" endWordPosition="310"> tweets and profile metadata. Geolocation information is essential to locationbased applications, like targeted advertising and local event detection (Sakaki et al., 2010; MacEachren et al., 2011). However, the means to obtain such information are limited. Although Twitter allows users to specify a plain text description of their location in their profile, these descriptions tend to be ad hoc and unreliable (Cheng &apos;We only use public Twitter data for experiments and exemplification in this study. et al., 2010). Recently, user geolocation prediction based on a user’s tweets has become popular (Wing and Baldridge, 2011; Roller et al., 2012), based on the assumption that tweets implicitly contain locating information, and with appropriate statistical modeling, the true location can be inferred. For instance, if a user frequently mentions NYC, JFK and yankees, it is likely that they are from New York City, USA. In this paper, we discuss an implementation of a global city-level geolocation prediction system for English Twitter users. The system utilises both tweet text and public profile metadata for modeling and inference. Specifically, we train multinomial Bayes classifiers based on location indicative words</context>
<context position="6150" citStr="Wing and Baldridge (2011)" startWordPosition="953" endWordPosition="956">erms which are associated with particular locations (e.g. ferry for Seattle or Sydney). Beyond identifying geographical references using off-the-shelf tools, more sophisticated methods have been introduced in the social media realm. Cheng et al. (2010) built a simple generative model based on tweet words, and further added words which are local to particular regions and applied smoothing to under-represented locations. Kinsella et al. (2011) applied different similarity measures to the task, and investigated the relative difficulty of geolocation prediction at city, state, and country levels. Wing and Baldridge (2011) introduced a grid-based representation for geolocation modeling and inference based on fixed latitude and longitude values, and aggregated all tweets in a single cell. Their approach was then based on lexical similarity using KL-divergence. One drawback to the uniformsized cell representation is that it introduces class imbalance: urban areas tend to contain far more tweets than rural areas. Based on this observation, Roller et al. (2012) introduced an adaptive grid representation in which cells contain approximately the same number of users, based on a KDtree partition. Given that most tweet</context>
</contexts>
<marker>Wing, Baldridge, 2011</marker>
<rawString>Benjamin P. Wing and Jason Baldridge. 2011. Simple supervised document geolocation with geodesic grids. In Proc. of ACL, pages 955–964, Portland, USA.</rawString>
</citation>
<citation valid="true">
<authors>
<author>David H Wolpert</author>
</authors>
<title>Stacked generalization.</title>
<date>1992</date>
<journal>Neural Networks,</journal>
<volume>5</volume>
<issue>2</issue>
<contexts>
<context position="2771" citStr="Wolpert, 1992" startWordPosition="427" endWordPosition="428"> modeling, the true location can be inferred. For instance, if a user frequently mentions NYC, JFK and yankees, it is likely that they are from New York City, USA. In this paper, we discuss an implementation of a global city-level geolocation prediction system for English Twitter users. The system utilises both tweet text and public profile metadata for modeling and inference. Specifically, we train multinomial Bayes classifiers based on location indicative words (LIWs) in tweets (Han et al., 2012), and user-declared location and time zone metadata. These base classifiers are further stacked (Wolpert, 1992) using logistic regression as the meta-classifier. The proposed stacking model is compared with benchmarks on a public geolocation dataset. Experimental results demonstrate that our stacking model outperforms benchmark methods by a large margin, achieving 49% accuracy on the test data. We further evaluate the stacking model on a more recent crawl of public tweets. This experiment tests the effectiveness of a geolocation model trained on “old” data when applied to “new” data. The results reveal that user-declared locations are more variable over time than tweet text and time zone data. 2 Backgr</context>
<context position="10041" citStr="Wolpert, 1992" startWordPosition="1579" endWordPosition="1580"> geolocation prediction, especially the userdeclared location and time zone, which we consider here. Note that these are in free text rather than a structured data format, and that while there are certainly instances of formal place name descriptions (e.g., Edinburgh, UK), they are often informal (e.g., mel for Melbourne). As such, we adopt a statistical approach to model each selected metadata field, by capturing the text in the form of character 4-grams, and training a multinomial naive Bayes classifier for each field. To combine together the tweet text and metadata fields, we use stacking (Wolpert, 1992). The training of stacking consists of two steps. First, a multinomial naive Bayes base classifier (L0) is learned for each data type using 10-fold cross validation. This is carried out for the tweet text (TEXT), user-declared location (MB-LOC) and user-declared time zone (MB-TZ). Next, a metaclassifier (L1 classifier) is trained over the base classifiers, using a logistic regression learner (Fan et al., 2008). 4 Evaluation and Discussion In this section, we compare our proposed stacking approach with existing benchmarks on a public dataset, and investigate the impact of time using a recently </context>
</contexts>
<marker>Wolpert, 1992</marker>
<rawString>David H. Wolpert. 1992. Stacked generalization. Neural Networks, 5(2):241–259.</rawString>
</citation>
<citation valid="true">
<authors>
<author>Zhijun Yin</author>
<author>Liangliang Cao</author>
<author>Jiawei Han</author>
<author>Chengxiang Zhai</author>
<author>Thomas Huang</author>
</authors>
<title>Geographical topic discovery and comparison.</title>
<date>2011</date>
<booktitle>In Proc. of WWW,</booktitle>
<pages>247--256</pages>
<location>Hyderabad, India.</location>
<contexts>
<context position="7301" citStr="Yin et al., 2011" startWordPosition="1132" endWordPosition="1135">mber of users, based on a KDtree partition. Given that most tweets are from urban areas, Han et al. (2012) consider a citybased class division, and explore different feature selection methods to extract “location indicative words”, which they show to improve prediction accuracy. Additionally, time zone information has been incorporated in a coarse-to-fine hierarchical model by first determining the time zone, and then disambiguating locations within it (Mahmud et al., 2012). Topic models have also been applied to the task, in capturing regional linguistic differences (Eisenstein et al., 2010; Yin et al., 2011; Hong et al., 2012). When designing a practical geolocation system, simple models such as naive Bayes and nearest prototype methods (e.g., based on KL divergence) have clear advantages in terms of training and classification throughput, given the size of the class set (often numbering in the thousands of classes) and sheer volume of training data (potentially in the terabytes of data). This is particularly important for online systems and downstream applications that require timely predictions. As such, we build off the text-based naive Bayes-based geolocation system of Han et al. (2012), whi</context>
</contexts>
<marker>Yin, Cao, Han, Zhai, Huang, 2011</marker>
<rawString>Zhijun Yin, Liangliang Cao, Jiawei Han, Chengxiang Zhai, and Thomas Huang. 2011. Geographical topic discovery and comparison. In Proc. of WWW, pages 247–256, Hyderabad, India.</rawString>
</citation>
<citation valid="true">
<authors>
<author>Wenbo Zong</author>
<author>Dan Wu</author>
<author>Aixin Sun</author>
<author>Ee-Peng Lim</author>
<author>Dion Hoe-Lian Goh</author>
</authors>
<title>On assigning place names to geography related web pages.</title>
<date>2005</date>
<booktitle>In ACM/IEEE Joint Conference on Digital Libraries,</booktitle>
<pages>354--362</pages>
<contexts>
<context position="3541" citStr="Zong et al., 2005" startWordPosition="546" endWordPosition="549"> results demonstrate that our stacking model outperforms benchmark methods by a large margin, achieving 49% accuracy on the test data. We further evaluate the stacking model on a more recent crawl of public tweets. This experiment tests the effectiveness of a geolocation model trained on “old” data when applied to “new” data. The results reveal that user-declared locations are more variable over time than tweet text and time zone data. 2 Background and Related Work Identifying the geolocation of objects has been widely studied in the research literature over target objects including webpages (Zong et al., 2005), search queries (Backstrom et al., 2008), Flickr images (Crandall et al., 2009) and Wikipedia editors (Lieberman and Lin, 2009). Recently, a considerable amount of work has been devoted to extending geolocation prediction for Twitter 7 Proceedings of the 51st Annual Meeting of the Association for Computational Linguistics, pages 7–12, Sofia, Bulgaria, August 4-9 2013. c�2013 Association for Computational Linguistics users (Cheng et al., 2010; Eisenstein et al., 2010). The geolocations are usually represented by unambiguous city names or a partitioning of the earth’s surface (e.g., grid cells </context>
</contexts>
<marker>Zong, Wu, Sun, Lim, Goh, 2005</marker>
<rawString>Wenbo Zong, Dan Wu, Aixin Sun, Ee-Peng Lim, and Dion Hoe-Lian Goh. 2005. On assigning place names to geography related web pages. In ACM/IEEE Joint Conference on Digital Libraries, pages 354–362.</rawString>
</citation>
</citationList>
</algorithm>
</algorithms>